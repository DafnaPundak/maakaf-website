#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Run ESLint with automatic fixes, and store the result
eslint_result=$(npx eslint . --fix)
if [ $? -eq 0 ]; then
    echo "✅ ESLint checks passed!"
else
    echo "❌ ESLint found issues that could not be automatically fixed."
    echo "$eslint_result"
    exit 1
fi

# Run Prettier with write option, and store the result
prettier_result=$(npx prettier --write .)
if [ $? -eq 0 ]; then
    echo "✅ Prettier formatting passed!"
else
    echo "❌ Prettier found formatting issues."
    echo "$prettier_result"
    exit 1
fi

echo "✨ All checks passed! Your code is clean and formatted! ✨"
